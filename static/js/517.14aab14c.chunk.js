"use strict";(self.webpackChunkspa_task=self.webpackChunkspa_task||[]).push([[517],{940:(e,s,t)=>{t.d(s,{c:()=>c});var n=t(43);function c(e){const[s,t]=(0,n.useState)([]),[c,i]=(0,n.useState)(!1),[a,l]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{l(!0),fetch("https://rickandmortyapi.com/api/location?page=".concat(e)).then((e=>e.json())).then((e=>{var s;t((s=>{const t=e.results.filter((e=>!s.some((s=>s.id===e.id))));return[...s,...t]})),i(null!==(null===(s=e.info)||void 0===s?void 0:s.next)),l(!1)})).catch((e=>console.error(e.message))).finally((()=>l(!1)))}),[e]),{locations:s,hasMore:c,loading:a}}},517:(e,s,t)=>{t.r(s),t.d(s,{Locations:()=>o});var n=t(43),c=t(733),i=t(940),a=t(141),l=t(579);function o(){const e=(0,c.Zp)(),s=(0,n.useRef)(),t=(0,n.useContext)(a.B),{qualityL:o,setQualityL:r}=t;(0,n.useEffect)((()=>{o>1&&r(1)}),[]);const{locations:u,loading:d,hasMore:h}=(0,i.c)(o),m=(0,n.useCallback)((e=>{d||(s.current&&s.current.disconnect(),s.current=new IntersectionObserver((e=>{e[0].isIntersecting&&h&&r((e=>e+1))})),e&&s.current.observe(e))}),[d,h,r]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.sv,{}),(0,l.jsx)("h2",{className:"subtitle",children:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438"}),(0,l.jsxs)("div",{className:"main_content",children:[(0,l.jsx)("ul",{className:"list location_list",children:u.map(((s,t)=>(0,l.jsxs)("li",{ref:u.length===t+1?m:null,onClick:()=>e("/locations/".concat(s.id)),className:"list_item location_item",children:[(0,l.jsxs)("h2",{children:["location ",s.id]}),(0,l.jsx)("h3",{children:s.name}),(0,l.jsxs)("p",{children:["Type: ",s.type]})]},s.id)))}),d&&(0,l.jsx)("div",{className:"loading",children:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})]})}}}]);
//# sourceMappingURL=517.14aab14c.chunk.js.map