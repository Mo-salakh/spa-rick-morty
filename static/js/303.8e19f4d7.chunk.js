"use strict";(self.webpackChunkspa_task=self.webpackChunkspa_task||[]).push([[303],{410:(e,s,t)=>{t.d(s,{O:()=>i});var n=t(43);function i(e){const[s,t]=(0,n.useState)([]),[i,a]=(0,n.useState)(!1),[c,r]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{r(!0),fetch("https://rickandmortyapi.com/api/episode?page=".concat(e)).then((e=>e.json())).then((e=>{var s;t((s=>{const t=e.results.filter((e=>!s.some((s=>s.id===e.id))));return[...s,...t]})),a(null!==(null===(s=e.info)||void 0===s?void 0:s.next)),r(!1)})).catch((e=>console.error(e.message))).finally((()=>r(!1)))}),[e]),{episodes:s,hasMore:i,loading:c}}},303:(e,s,t)=>{t.r(s),t.d(s,{Episodes:()=>l});var n=t(43),i=t(733),a=t(141),c=t(410),r=t(579);function l(){const e=(0,n.useContext)(a.B),s=(0,i.Zp)(),{qualityE:t,setQualityE:l}=e;(0,n.useEffect)((()=>{t>1&&l(1)}),[]);const{loading:o,episodes:d,hasMore:u}=(0,c.O)(t),h=(0,n.useRef)(),p=(0,n.useCallback)((e=>{o||(h.current&&h.current.disconnect(),h.current=new IntersectionObserver((e=>{e[0].isIntersecting&&u&&l((e=>e+1))})),e&&h.current.observe(e))}),[o,u,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.sv,{}),(0,r.jsx)("h2",{className:"subtitle",children:"\u042d\u043f\u0438\u0437\u043e\u0434\u044b"}),(0,r.jsxs)("div",{className:"main_content",children:[(0,r.jsx)("ul",{className:"list episode_list",children:d.map(((e,t)=>(0,r.jsxs)("li",{ref:d.length===t+1?p:null,onClick:()=>s("/episodes/".concat(e.id)),className:"list_item episode_item",children:[(0,r.jsxs)("h2",{children:["Episode ",e.id]}),(0,r.jsx)("h3",{children:e.name}),(0,r.jsxs)("p",{children:["Date: ",e.air_date]})]},e.id)))}),o&&(0,r.jsx)("div",{className:"loading",children:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})]})}}}]);
//# sourceMappingURL=303.8e19f4d7.chunk.js.map